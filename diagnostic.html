<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RetailEdge - Diagnostic</title>
    <style>
        body {
            background: linear-gradient(135deg, #020617 0%, #0f172a 50%, #020617 100%);
            color: #e2e8f0;
            font-family: 'Inter', -apple-system, sans-serif;
            padding: 40px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(100, 116, 139, 0.2);
            border-radius: 16px;
            padding: 32px;
        }

        h1 {
            color: #06b6d4;
            margin-bottom: 24px;
        }

        .status {
            padding: 12px;
            margin: 12px 0;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .success {
            background: rgba(34, 197, 94, 0.1);
            border-color: #22c55e;
        }

        .error {
            background: rgba(239, 68, 68, 0.1);
            border-color: #ef4444;
        }

        .info {
            background: rgba(6, 182, 212, 0.1);
            border-color: #06b6d4;
        }

        button {
            background: #06b6d4;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 16px;
        }

        button:hover {
            background: #0891b2;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ðŸš€ RetailEdge Pro - Deployment Diagnostic</h1>

        <div id="status"></div>

        <button onclick="window.location.href='/'">Go to Main App</button>
    </div>

    <script>
        const statusDiv = document.getElementById('status');

        function addStatus(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            statusDiv.appendChild(div);
        }

        // Check config.js
        addStatus('âœ“ Diagnostic page loaded', 'success');

        if (window.APP_CONFIG) {
            addStatus('âœ“ config.js loaded successfully', 'success');
            addStatus(`Server URL: ${window.APP_CONFIG.serverUrl}`, 'info');
        } else {
            addStatus('âœ— config.js not loaded', 'error');
        }

        // Check React
        if (window.React) {
            addStatus('âœ“ React loaded', 'success');
        } else {
            addStatus('âœ— React not loaded', 'error');
        }

        // Check ReactDOM
        if (window.ReactDOM) {
            addStatus('âœ“ ReactDOM loaded', 'success');
        } else {
            addStatus('âœ— ReactDOM not loaded', 'error');
        }

        // Check server health
        fetch('/api/health')
            .then(res => res.json())
            .then(data => {
                addStatus('âœ“ Server API responding', 'success');
                addStatus(`Market Status: ${data.marketStatus.isOpen ? 'OPEN' : 'CLOSED'} (${data.marketStatus.currentTime} ET)`, 'info');
            })
            .catch(err => {
                addStatus('âœ— Server API error: ' + err.message, 'error');
            });
    </script>
    <script src="./config.js"></script>
</body>

</html>